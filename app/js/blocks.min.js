"use strict";$(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(function(){$(".form-validation").each(function(){var a=$(this).find("button[type='submit']");$(this).validate({highlight:function(i,o){$(i).parent().removeClass("form-validation__group_valid").addClass("form-validation__group_invalid"),$(i).removeClass("validation_valid").addClass("validation_invalid")},unhighlight:function(i,o){$(i).parent().removeClass("form-validation__group_invalid").addClass("form-validation__group_valid"),$(i).addClass("validation_valid").removeClass("validation_invalid")},errorElement:"span",errorClass:"form-validation__error-text",ignore:".validation_ignore",focusInvalid:!0,submitHandler:function(i){var o=$(i);return $.ajax({type:"POST",url:"./mail.php",data:o.serialize()}).done(function(i){a.attr("disabled","disabled"),$(".answer-form-show").click(),setTimeout(function(){o.trigger("reset"),a.removeAttr("disabled"),o.find(".validation_valid").removeClass("validation_valid"),o.find(".form-validation__group_valid").removeClass("form-validation__group_valid")},3e3)}),!1}})})}),$(function(){$.validator.addMethod("myEmail",function(i,o){return this.optional(o)||/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i)},"Некорректный email"),$.validator.addMethod("validationRequired",$.validator.methods.required,"Обязательное поле!"),$.validator.addMethod("validationMinlength",$.validator.methods.minlength,"Минимум {0} символов!"),$.validator.addMethod("validationMaxlength",$.validator.methods.maxlength,"Максимум {0} символов!"),$.validator.addMethod("validationDigits",$.validator.methods.digits,"Должны быть только цифры!"),$.validator.addMethod("validationRangelength",$.validator.methods.rangelength,"Символов не менее {0} и не более {1}"),$.validator.addClassRules({validation:{validationRequired:!0},validation_email:{myEmail:!0},validation_minlength:{validationMinlength:3},validation_maxlength:{validationMaxlength:10},validation_digits:{validationDigits:!0},validation_rangelength:{validationRangelength:[3,7]}})}),$(function(){$(".answer-form__ok").click(function(){return $.magnificPopup.close(),!1})}),$(function(){$(".hamburger").click(function(){return $(this).toggleClass("hamburger_on"),$(".top-navigation").toggleClass("top-navigation_open"),$(".page").toggleClass("page_fixed"),$(".connection").toggleClass("connection_scroll"),$(".top-slider__slider").slick("refresh"),!1})}),$(function(){var i=$(".top-slider__slider").slick({infinite:!0,fade:!0,autoplay:!0,speed:300,autoplaySpeed:5e3,pauseOnDotsHover:!0,pauseOnHover:!0,slidesToShow:1,swipeToSlide:!1,swipe:!1,adaptiveHeight:!1,dots:!0,customPaging:function(i,o){return"\n        <div class='top-slider__dot-number'>0"+(o+1)+"</div>\n        <p class='top-slider__dot-text'>"+$(i.$slides[o]).data("dots_text")+"</p>"},arrows:!0,appendArrows:$(".top-slider__arrows"),prevArrow:"\n      <span class='slider-arrow slider-arrow_ffffff slider-arrow_prev top-slider__prev'>\n        <span class='icon icon_arrow-ffffff'></span>\n      </span>",nextArrow:"\n      <span class='slider-arrow slider-arrow_ffffff slider-arrow_next top-slider__next'>\n        <span class='icon icon_arrow-ffffff'></span>\n      </span>",appendDots:$(".top-slider__dots"),responsive:[{breakpoint:1199.9,settings:{swipe:!0,speed:100}}]}).slick("getSlick").slideCount;function o(){$(".top-slider").css("height",$(window).height())}$(".top-slider__counter-total").html("0"+i),o(),$(window).resize(function(){o()})}),$(function(){$(".link-scroll").click(function(){var i=$(this).attr("href"),o=$(i).offset().top;return $("html, body").animate({scrollTop:o},1100),!1})}),$(function(){$(".connection__open").click(function(){$(this).parents(".connection").toggleClass("connection_open")}),$(window).scroll(function(){10<$(this).scrollTop()?$(".connection").addClass("connection_scroll"):$(".connection").removeClass("connection_scroll")})}),$(function(){$(window).scroll(function(){400<$(this).scrollTop()?$(".to-top").fadeIn():$(".to-top").fadeOut()}),$(".to-top").click(function(){return $("html, body").animate({scrollTop:0},600),!1})}),$(window).on("load resize",function(){if(767.9<$(document).width()&&!$(".top-yachts__slider").hasClass("slick-initialized")){var i=$(".top-yachts__slider").slick({infinite:!0,fade:!1,autoplay:!1,speed:300,autoplaySpeed:5e3,pauseOnDotsHover:!0,pauseOnHover:!0,slidesToShow:2,rows:2,swipeToSlide:!0,swipe:!0,adaptiveHeight:!1,dots:!1,arrows:!0,appendArrows:$(".top-yachts__arrows"),prevArrow:"\n      <span class='slider-arrow slider-arrow_363636 slider-arrow_prev top-yachts__slider-arrow'>\n        <span class='icon icon_arrow-363636'></span>\n      </span>",nextArrow:"\n      <span class='slider-arrow slider-arrow_363636 slider-arrow_next top-yachts__slider-arrow'>\n        <span class='icon icon_arrow-363636'></span>\n      </span>",responsive:[{breakpoint:767.9,settings:"unslick"}]}),o=i.slick("getSlick").slideCount;$(".top-yachts__counter-total").html("0"+o),i.on("afterChange",function(i,o,a,n){$(".top-yachts__counter-current").html("0"+(a+1))})}});